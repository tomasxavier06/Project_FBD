<!doctype html>
<html lang="pt">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Estoril Track Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
      :root{ --sidebar-width:60px; }
      html,body{ height:100%; }
      body{ margin:0; padding:0; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:#fff; color:#000; }

      .hero{
        position:relative; height:100vh; min-height:560px; overflow:hidden; display:flex; align-items:center; justify-content:center;
      }

      .slides{
        position:absolute; inset:0; z-index:1; display:block;
      }
      .slide{
        position:absolute; inset:0; background-position:center; background-size:cover; opacity:0; transition:opacity 1s ease-in-out; will-change:opacity;
      }
      .slide.active{ opacity:1; }

      .overlay{
        position:absolute; inset:0; background: linear-gradient(180deg, rgba(0,0,0,0.25), rgba(0,0,0,0.45)); z-index:3;
      }

      .logo-wrap{ position:relative; z-index:4; text-align:center; }
      .logo-wrap img{ width:520px; max-width:85vw; height:auto; display:block; margin:0 auto; filter:drop-shadow(0 8px 30px rgba(2,6,23,0.6)); }

      .controls{ position:relative; z-index:5; margin-top:18px; display:flex; gap:8px; justify-content:center; }
      .dot{ width:10px; height:10px; border-radius:50%; background:rgba(255,255,255,0.5); cursor:pointer; }
      .dot.active{ background:#fff; }

      .below{ padding:40px 16px; text-align:center; color:#222; background:#fff; }

      .sidebar{
        position:fixed; top:0; left:0; bottom:0; width:var(--sidebar-width); padding: 14px; box-sizing:border-box; z-index:10;
        background: linear-gradient(180deg, rgba(0,0,0,0.28), rgba(0,0,0,0.18));
        backdrop-filter: blur(6px); color:#fff; display:flex; flex-direction:column; gap:16px;
      }
      .sidebar nav{ display:flex; flex-direction:column; gap:16px; }
      .sidebar button{ 
        background:transparent; border:none; color:rgba(255,255,255,0.95); 
        cursor:pointer; padding:10px; border-radius:6px; 
        font-size:16px; transition: background 0.2s;
        display:flex; align-items:center; justify-content:center;
      }
      .sidebar button:hover{ background: rgba(255,255,255,0.06); }

      @media (max-width:540px){
        .logo-wrap img{ width:320px; max-width:80vw; }
      }
      @media (max-width:900px){ 
        .sidebar{ display:none; } 
      }
    </style>
  </head>
  <body>

    <aside class="sidebar" aria-label="Barra lateral">
      <nav>
        <button onclick="window.location.href='/'" title="HomePage">
          <i class="fa-solid fa-house"></i>
        </button>
        <button onclick="window.location.href='/events'" title="Eventos Passados">
          <i class="fa-solid fa-calendar"></i>
        </button>
        <button onclick="window.location.href='/records'" title="Recordes da Pista">
          <i class="fa-solid fa-ranking-star"></i>
        </button>
        <button onclick="window.location.href='/pilots'" title="Pilotos">
          <i class="fa-solid fa-users"></i>
        </button>
        <button onclick="window.location.href='/teams'" title="Equipas">
          <i class="fa-solid fa-warehouse"></i>
        </button>
      </nav>
<div style="margin-top:auto; display:flex; align-items:center; justify-content:center; position:relative;" class="dropdown-container">
        <button id="userMenuBtn" style="background:transparent; border:none; color:rgba(255,255,255,0.95); cursor:pointer; padding:10px; border-radius:6px; font-size:16px; transition: background 0.2s;">
          <i class="fa-solid fa-user"></i>
        </button>
        <div id="dropupMenu" style="display:none; position:absolute; bottom:100%; left:200%; transform:translateX(-50%); margin-bottom:8px; margin-left:8px; background:transparent; backdrop-filter:blur(12px); border-radius:8px; min-width:180px; box-shadow:0 -4px 20px rgba(0,0,0,0.5); overflow:hidden;">
          <button onclick="window.location.href='/settings'" style="width:100%; background:transparent; border:none; color:rgba(255,255,255,0.9); cursor:pointer; padding:12px 16px; text-align:left; font-size:14px;display:flex; align-items:center; gap:10px;">
            <span><b>Definições</b></span>
          </button>
          <div style="height:1px; background:rgba(255,255,255,0.1);"></div>
          <button onclick="window.location.href='/logout'" style="width:100%; background:transparent; border:none; color:rgba(255,100,100,0.9); cursor:pointer; padding:12px 16px; text-align:left; font-size:14px; display:flex; align-items:center; gap:10px;">
            <span><b>Terminar Sessão</b></span>
          </button>
        </div>
      </div>
    </aside>
    </aside>
    <div>
      Página Do Diretor de Corrida
    </div>

    <script>
      (function(){
        const slides = Array.from(document.querySelectorAll('.slide'));
        const dotsWrap = document.getElementById('dots');
        let current = 0;
        const interval = 4000; // ms

        if(!slides.length) return;

        // criar dots
        slides.forEach((s, i) => {
          const d = document.createElement('div');
          d.className = 'dot' + (i===0? ' active':'');
          d.addEventListener('click', () => goTo(i));
          dotsWrap.appendChild(d);
        });

        function show(i){
          slides.forEach((s, idx) => s.classList.toggle('active', idx===i));
          const dots = dotsWrap.children;
          for(let k=0;k<dots.length;k++) dots[k].classList.toggle('active', k===i);
        }

        function goTo(i){ current = i; show(current); restart(); }

        function next(){ current = (current+1) % slides.length; show(current); }

        let timer = setInterval(next, interval);
        function restart(){ clearInterval(timer); timer = setInterval(next, interval); }

        show(0);
      })();

      const btn = document.getElementById('userMenuBtn');
      const menu = document.getElementById('dropupMenu');
      btn.onclick = (e) => { e.stopPropagation(); menu.style.display = menu.style.display === 'block' ? 'none' : 'block'; };
      document.onclick = () => menu.style.display = 'none';
    </script>
  </body>
</html>

