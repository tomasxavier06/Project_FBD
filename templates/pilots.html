<!doctype html>
<html lang="pt">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pilotos - Estoril Track Manager</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/static/css/sidebar.css">
  <style>
    html,
    body {
      height: 100%;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background: #fff;
      color: #333;
    }

    .content {
      margin-left: var(--sidebar-width);
      padding: 40px;
      transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    th,
    td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background: #f5f5f5;
      font-weight: 600;
    }

    tr:hover {
      background: #f9f9f9;
    }

    @media (max-width: 900px) {
      .content {
        margin-left: 0;
      }
    }

    thead th a {
        text-decoration: none; 
        color: inherit;        /* Faz o link herdar a cor do th (geralmente preto) */
        display: block;        /* Faz com que toda a área da célula seja clicável */
        width: 100%;
        height: 100%;
    }

    /* Opcional: muda a cor quando passa o rato para o utilizador saber que é clicável */
    thead th a:hover {
        color: #555;           /* Um cinzento escuro ao passar o rato */
    }
  </style>
</head>

<body>

  <aside class="sidebar" aria-label="Barra lateral">
    <nav>
      <button class="sidebar-btn" onclick="window.location.href='/'">
        <i class="fa-solid fa-house"></i>
        <span>Início</span>
      </button>
      <button class="sidebar-btn" onclick="window.location.href='/events'">
        <i class="fa-solid fa-calendar"></i>
        <span>Eventos</span>
      </button>
      <button class="sidebar-btn" onclick="window.location.href='/records'">
        <i class="fa-solid fa-ranking-star"></i>
        <span>Recordes</span>
      </button>
      <button class="sidebar-btn" onclick="window.location.href='/pilots'">
        <i class="fa-solid fa-users"></i>
        <span>Pilotos</span>
      </button>
      <button class="sidebar-btn" onclick="window.location.href='/teams'">
        <i class="fa-solid fa-warehouse"></i>
        <span>Equipas</span>
      </button>
    </nav>
    <div class="sidebar-bottom">
      <button class="sidebar-btn" onclick="window.location.href='/login'">
        <i class="fa-solid fa-user"></i>
        <span>Login</span>
      </button>
    </div>
  </aside>

  <div class="content">
    <h1>Pilotos</h1>
   <div style="margin-bottom: 20px;">
      <form action="/pilots" method="GET">
          <input type="text" name="nome_procurado" placeholder="Pesquisar piloto..." required>
          <button type="submit">Pesquisar</button>
      </form>
    </div>

    <table>
<thead>
    <tr>
        <th>
            <a href="/pilots?coluna=numero_licenca&ordem={{ 'desc' if ordem_atual == 'asc' else 'asc' }}">
                Licença ↕
            </a>
        </th>

        <th>
            <a href="/pilots?coluna=nome&ordem={{ 'desc' if ordem_atual == 'asc' else 'asc' }}">
                Nome ↕
            </a>
        </th>

        <th>
            <a href="/pilots?coluna=nacionalidade&ordem={{ 'desc' if ordem_atual == 'asc' else 'asc' }}">
                Nacionalidade ↕
            </a>
        </th>

        <th>
            <a href="/pilots?coluna=numero_eventos&ordem={{ 'desc' if ordem_atual == 'asc' else 'asc' }}">
                Eventos ↕
            </a>
        </th>
        
        </tr>
</thead>

      <tbody>
        {% for piloto in pilotos %}
        <tr>
          <td>{{ piloto[0] }}</td>
          <td>{{ piloto[1] }}</td>
          <td>{{ piloto[2] }}</td>
          <td>{{ piloto[3] }}</td>
          <td>{{ piloto[4] }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

</body>

</html>